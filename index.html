<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>KLLOVR WEAR</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" type="image/png" href="favicon.png">
    <style>
        :root {
            --primary-color: #001f3f;
            /* Navy Blue */
            --secondary-color: #ffffff;
            /* White */
            --accent-color: #39CCCC;
            /* Teal/Light Blue accent for buttons/hovers if needed */
            --text-color: #333;
            --light-gray: #f4f4f4;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f4f7f6;
            color: var(--text-color);
            line-height: 1.6;
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }

        /* Modern Blue Background */
        .global-bg {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: -1;
            background: linear-gradient(135deg, #000428, #004e92); /* "Frost" or "Midnight" Blue Gradient */
        }

        /* Subtle mesh/glow effect */
        .global-bg::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle at center, rgba(57, 204, 204, 0.1), transparent 50%);
            animation: rotate 30s linear infinite;
        }

        @keyframes rotate {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        /* typography */
        h1,
        h2,
        h3 {
            color: var(--primary-color);
        }

        a {
            text-decoration: none;
            color: inherit;
        }

        /* Header */
        header {
            background-color: rgba(0, 31, 63, 0.95);
            color: var(--secondary-color);
            padding: 1rem 5%;
            position: sticky;
            top: 0;
            z-index: 100;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
            backdrop-filter: blur(5px);
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            letter-spacing: 2px;
            text-transform: uppercase;
        }

        nav ul {
            display: flex;
            list-style: none;
        }

        nav ul li {
            margin-left: 20px;
        }

        nav ul li a {
            color: var(--secondary-color);
            transition: color 0.3s;
        }

        nav ul li a:hover {
            color: var(--accent-color);
        }

        /* Hero Section */
        .hero {
            height: 80vh; 
            min-height: 500px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            background: transparent;
        }

        /* Float animation for the global circle */
        @keyframes float-y {
            0%, 100% { transform: translate(-50%, -50%) translateY(0); }
            50% { transform: translate(-50%, -50%) translateY(-20px); }
        }

        @keyframes pulse-glow {
            0% { transform: translate(-50%, -50%) scale(1); box-shadow: 0 20px 50px rgba(0,31,63,0.3); }
            100% { transform: translate(-50%, -50%) scale(1.05); box-shadow: 0 40px 80px rgba(0,31,63,0.5); }
        }

        @keyframes spin-slow {
            0% { transform: translate(-50%, -50%) rotate(0deg); }
            100% { transform: translate(-50%, -50%) rotate(360deg); }
        }

        /* Entrance Animations */
        @keyframes fade-in-up {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .products, .order-section, header {
            animation: fade-in-up 1s ease-out forwards;
        }
        
        .products { animation-delay: 0.2s; opacity: 0; animation-fill-mode: forwards; }
        .order-section { animation-delay: 0.4s; opacity: 0; animation-fill-mode: forwards; }

        .product-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .product-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 15px 30px rgba(0,0,0,0.15);
        }

        .hero-content {
            z-index: 2;
            position: relative;
            /* Empty content container */
        }

        .hero-content h1 {
            font-size: 3.5rem;
            margin-bottom: 1rem;
            color: #ffffff;
            text-shadow: 0 2px 10px rgba(0,0,0,0.3);
        }

        .hero-content p {
            font-size: 1.2rem;
            margin-bottom: 2rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            color: #e0e0e0;
        }

        .btn {
            display: inline-block;
            background-color: var(--secondary-color);
            color: var(--primary-color);
            padding: 12px 30px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .btn:hover {
            background-color: var(--accent-color);
            color: var(--secondary-color);
            transform: translateY(-2px);
        }

        /* Products Section */
        .products {
            padding: 2rem 5%; /* Reduced from 5rem */
            text-align: center;
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            margin: 20px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .section-title {
            font-size: 2.5rem;
            margin-bottom: 3rem;
            position: relative;
            display: inline-block;
        }

        .section-title::after {
            content: '';
            display: block;
            width: 50%;
            height: 3px;
            background-color: var(--primary-color);
            margin: 10px auto 0;
        }

        .product-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 30px;
        }

        .product-card {
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
            text-align: left;
        }

        .product-card:hover {
            transform: translateY(-10px);
        }

        .product-image {
            height: 300px;
            background-color: #ddd;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #777;
            font-size: 3rem;
        }

        /* Placeholder styling for images */
        .product-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .product-info {
            padding: 20px;
        }

        .product-title {
            font-size: 1.2rem;
            margin-bottom: 10px;
        }

        .product-price {
            font-size: 1.1rem;
            color: var(--primary-color);
            font-weight: bold;
            margin-bottom: 15px;
        }

        .btn-order {
            width: 100%;
            padding: 10px;
            background-color: var(--primary-color);
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            transition: background 0.3s;
        }

        .btn-order:hover {
            background-color: #003366;
        }

        /* Order Form Section */
        .order-section {
            padding: 5rem 5%;
            background: transparent; /* Make transparent to show global card style if wrapper used, or style directly */
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            margin: 20px;
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .order-container {
            max-width: 600px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.05);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--primary-color);
            font-weight: bold;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 12px;
            border: 1px solid #ddd;
            border-radius: 5px;
            font-size: 1rem;
        }

        .form-group input:focus,
        .form-group textarea:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        /* Footer */
        footer {
            background-color: var(--primary-color);
            color: white;
            text-align: center;
            padding: 2rem 0;
            margin-top: auto;
        }

        /* Modal */
        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            align-items: center;
            justify-content: center;
        }

        .modal-content {
            background-color: white;
            padding: 40px;
            border-radius: 10px;
            text-align: center;
            max-width: 400px;
        }

        .modal-content i {
            font-size: 3rem;
            color: var(--primary-color);
            margin-bottom: 20px;
        }

        .close-btn {
            background-color: var(--primary-color);
            color: white;
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            margin-top: 20px;
            cursor: pointer;
        }

        /* Carousel Styles */
        .carousel-container {
            position: relative;
            width: 100%;
            height: 100%;
        }
        
        .carousel-slides {
            display: flex;
            width: 100%;
            height: 100%;
            overflow-x: auto;
            overflow-y: hidden;
            scroll-snap-type: x mandatory;
            scroll-behavior: smooth;
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        
        .carousel-slides::-webkit-scrollbar {
            display: none;
        }
        
        .carousel-slide {
            flex: 0 0 100%;
            width: 100%;
            height: 100%;
            scroll-snap-align: start;
        }

        .carousel-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: top center;
        }

        .carousel-dots {
            position: absolute;
            bottom: 10px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            gap: 8px;
            z-index: 10;
        }

        .dot {
            width: 10px;
            height: 10px;
            border-radius: 50%;
            background-color: rgba(0, 0, 0, 0.2);
            cursor: pointer;
            transition: background-color 0.3s;
            border: 1px solid var(--primary-color);
        }

        .dot.active {
            background-color: var(--primary-color);
        }

        .carousel-btn {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background-color: rgba(255, 255, 255, 0.7);
            color: var(--primary-color);
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
            z-index: 10;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }

        .carousel-btn:hover {
            background-color: white;
        }

        .carousel-btn.prev {
            left: 10px;
        }

        .carousel-btn.next {
            right: 10px;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            header {
                flex-direction: column;
                padding: 1rem;
            }

            nav ul {
                margin-top: 20px;
                flex-wrap: wrap;
                justify-content: center;
            }

            nav ul li {
                margin: 0 10px 10px 10px;
            }

            .hero-content h1 {
                font-size: 2.5rem;
            }

            .section-title {
                font-size: 2rem;
            }

            .order-container {
                padding: 20px;
            }
        }
    </style>
</head>

<body>
    <!-- Global Animated Background -->
    <div class="global-bg"></div>

    <!-- Header -->
    <header>
        <div class="logo">
            <img src="kllovr_logo.png" alt="Kllover Wear Logo" style="height: 80px; vertical-align: middle;">
        </div>
        <nav>
            <ul>
                <li><a href="#hero">Home</a></li>
                <li><a href="#products">Collection</a></li>
                <li><a href="#order">Commander</a></li>
            </ul>
        </nav>
    </header>

    <!-- Hero Section -->
    <section id="hero" class="hero">
        <div class="hero-content">
            <h1>KLLOVR WEAR</h1>
            <p></p>
            <a href="#products" class="btn">Voir la Collection</a>
        </div>
    </section>

    <!-- Products Section -->
    <section id="products" class="products">
        <h2 class="section-title">Featured Collection</h2>
        <div class="product-grid">
            <!-- Product 1 -->
            <div class="product-card">
                <div class="product-image">
                    <i class="fa-solid fa-ralph_ensemble_3.jpg"></i>
                     <img src="ralph_ensemble_3.jpg" alt="Ensemble ">
                </div>
                <div class="product-info">
                    <h3 class="product-title">Stussy Shirt</h3>
                    <p class="product-price">5000.00DA</p>
                    <button class="btn-order" onclick="selectProduct('Stussy Shirt', 5000)">Order This</button>
                </div>
            </div>
            <!-- Product 2 -->
            <div class="product-card">
                <div class="product-image" style="padding: 0; background-color: white;">
                    <div class="carousel-container" id="carousel-product-2">
                        <div class="carousel-slides" onscroll="updateDots('carousel-product-2')">
                            <div class="carousel-slide">
                                <img src="ralph_ensemble.jpg" alt="Ensemble Ralph Lauren 1" draggable="false">
                            </div>
                            <div class="carousel-slide">
                                <img src="ralph_ensemble_2.jpg" alt="Ensemble Ralph Lauren 2" draggable="false">
                            </div>
                        </div>
                        <div class="carousel-dots">
                            <div class="dot active" onclick="scrollToSlide('carousel-product-2', 0)"></div>
                            <div class="dot" onclick="scrollToSlide('carousel-product-2', 1)"></div>
                        </div>
                        <button class="carousel-btn prev" onclick="changeSlide('carousel-product-2', -1)"><i class="fa-solid fa-chevron-left"></i></button>
                        <button class="carousel-btn next" onclick="changeSlide('carousel-product-2', 1)"><i class="fa-solid fa-chevron-right"></i></button>
                    </div>
                </div>  
                <div class="product-info">
                    <h3 class="product-title">Ensemble Ralph Lauren</h3>
                    <p class="product-price">4900.00DA</p>
                    <button class="btn-order" onclick="selectProduct('Ensemble Ralph Lauren', 4900)">Order This</button>
                </div>
            </div>
            <!-- Product 3 -->
            <div class="product-card">
                <div class="product-image" style="padding: 0; background-color: white;">
                    <div class="carousel-container" id="carousel-product-3">
                        <div class="carousel-slides" onscroll="updateDots('carousel-product-3')">
                            <div class="carousel-slide">
                                <img src="Capture d’écran_11-2-2026_211240_www.instagram.com.jpeg" alt="Ralph Lauren Sweatshirt 1" draggable="false">
                            </div>
                            <div class="carousel-slide">
                                <img src="Capture d’écran_11-2-2026_211256_www.instagram.com.jpeg" alt="Ralph Lauren Sweatshirt 2" draggable="false">
                            </div>
                            <div class="carousel-slide">
                                <img src="Capture d’écran_11-2-2026_211312_www.instagram.com.jpeg" alt="Ralph Lauren Sweatshirt 3" draggable="false">
                            </div>
                        </div>
                        <div class="carousel-dots">
                            <div class="dot active" onclick="scrollToSlide('carousel-product-3', 0)"></div>
                            <div class="dot" onclick="scrollToSlide('carousel-product-3', 1)"></div>
                            <div class="dot" onclick="scrollToSlide('carousel-product-3', 2)"></div>
                        </div>
                        <button class="carousel-btn prev" onclick="changeSlide('carousel-product-3', -1)"><i class="fa-solid fa-chevron-left"></i></button>
                        <button class="carousel-btn next" onclick="changeSlide('carousel-product-3', 1)"><i class="fa-solid fa-chevron-right"></i></button>
                    </div>
                </div>
                <div class="product-info">
                    <h3 class="product-title">Ralph lauren sweet shirt</h3>
                    <p class="product-price">2600.00DA</p>
                    <button class="btn-order" onclick="selectProduct('Ralph lauren sweet shirt', 2600)">Order This</button>
                </div>
            </div>
            <!-- Product 4 -->
            <div class="product-card">
                <div class="product-image">
                    <img src="OS FOOT DZ sur TikTok.jpg" alt="Algeria Shirt">
                </div>
                <div class="product-info">
                    <h3 class="product-title">Algeria Shirt</h3>
                    <p class="product-price">2950.00DA</p>
                    <button class="btn-order" onclick="selectProduct('Algeria Shirt', 2950)">Order This</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Order Form Section -->
    <section id="order" class="order-section">
        <h2 class="section-title" style="text-align: center;">Passer votre commande</h2>
        <div class="order-container">
            <form id="orderForm" onsubmit="handleOrder(event)">
                <input type="hidden" id="date" name="date">
                <div class="form-group">
                    <label for="product"><strong>Choisir un produit</strong></label>
                    <input type="text" id="product" name="product" placeholder="Produit sélectionné" readonly required>
                </div>

                <div class="form-group">
                    <label for="name"><strong>Nom et Prenom</strong></label>
                    <input type="text" id="name" name="name" placeholder="xxxxxxxxxxx" required>
                </div>

                <div class="form-group">
                    <label for="instagram"><strong>Compte Instagram</strong></label>
                    <input type="text" id="instagram" name="instagram" placeholder="@votre_instagram">
                </div>

                <div class="form-group">
                    <label for="size"><strong>Taille / Size</strong></label>
                    <select id="size" name="size" required>
                        <option value="" disabled selected>Select your size</option>
                        <option value="S">S</option>
                        <option value="M">M</option>
                        <option value="L">L</option>
                        <option value="XL">XL</option>
                        <option value="XXL">XXL</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="phone"><samp><strong>Numero de telephone</strong></samp></label>
                    <input type="tel" id="phone" name="phone" placeholder="+213 000 000 000" required>
                </div>
                <div class="form-group">
                    <label for="delivery_type"><strong> Bureau ou a domicile </strong></label>
                    <select id="delivery_type" name="delivery_type" onchange="calculateTotal()"> 
                        <option value="Bureau">Bureau (Stop Desk)</option>
                        <option value="Domicile">Domicile (Home)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label for="wilaya"><samp><strong>Wilaya</strong></samp></label>
                    <select id="wilaya" name="wilaya" required onchange="calculateTotal()">
                        <option value="" disabled selected>Select your Wilaya</option>
                        <option value="Adrar">01 - Adrar</option>
                        <option value="Chlef">02 - Chlef</option>
                        <option value="Laghouat">03 - Laghouat</option>
                        <option value="Oum El Bouaghi">04 - Oum El Bouaghi</option>
                        <option value="Batna">05 - Batna</option>
                        <option value="Béjaïa">06 - Béjaïa</option>
                        <option value="Biskra">07 - Biskra</option>
                        <option value="Béchar">08 - Béchar</option>
                        <option value="Blida">09 - Blida</option>
                        <option value="Bouira">10 - Bouira</option>
                        <option value="Tamanrasset">11 - Tamanrasset</option>
                        <option value="Tébessa">12 - Tébessa</option>
                        <option value="Tlemcen">13 - Tlemcen</option>
                        <option value="Tiaret">14 - Tiaret</option>
                        <option value="Tizi Ouzou">15 - Tizi Ouzou</option>
                        <option value="Alger">16 - Alger</option>
                        <option value="Djelfa">17 - Djelfa</option>
                        <option value="Jijel">18 - Jijel</option>
                        <option value="Sétif">19 - Sétif</option>
                        <option value="Saïda">20 - Saïda</option>
                        <option value="Skikda">21 - Skikda</option>
                        <option value="Sidi Bel Abbès">22 - Sidi Bel Abbès</option>
                        <option value="Annaba">23 - Annaba</option>
                        <option value="Guelma">24 - Guelma</option>
                        <option value="Constantine">25 - Constantine</option>
                        <option value="Médéa">26 - Médéa</option>
                        <option value="Mostaganem">27 - Mostaganem</option>
                        <option value="M'Sila">28 - M'Sila</option>
                        <option value="Mascara">29 - Mascara</option>
                        <option value="Ouargla">30 - Ouargla</option>
                        <option value="Oran">31 - Oran</option>
                        <option value="El Bayadh">32 - El Bayadh</option>
                        <option value="Illizi">33 - Illizi</option>
                        <option value="Bordj Bou Arréridj">34 - Bordj Bou Arréridj</option>
                        <option value="Boumerdès">35 - Boumerdès</option>
                        <option value="El Tarf">36 - El Tarf</option>
                        <option value="Tindouf">37 - Tindouf</option>
                        <option value="Tissemsilt">38 - Tissemsilt</option>
                        <option value="El Oued">39 - El Oued</option>
                        <option value="Khenchela">40 - Khenchela</option>
                        <option value="Souk Ahras">41 - Souk Ahras</option>
                        <option value="Tipaza">42 - Tipaza</option>
                        <option value="Mila">43 - Mila</option>
                        <option value="Aïn Defla">44 - Aïn Defla</option>
                        <option value="Naâma">45 - Naâma</option>
                        <option value="Aïn Témouchent">46 - Aïn Témouchent</option>
                        <option value="Ghardaïa">47 - Ghardaïa</option>
                        <option value="Relizane">48 - Relizane</option>
                        <option value="Timimoun">49 - Timimoun</option>
                        <option value="Bordj Badji Mokhtar">50 - Bordj Badji Mokhtar</option>
                        <option value="Ouled Djellal">51 - Ouled Djellal</option>
                        <option value="Béni Abbès">52 - Béni Abbès</option>
                        <option value="In Salah">53 - In Salah</option>
                        <option value="In Guezzam">54 - In Guezzam</option>
                        <option value="Touggourt">55 - Touggourt</option>
                        <option value="Djanet">56 - Djanet</option>
                        <option value="El M'Ghair">57 - El M'Ghair</option>
                        <option value="El Meniaa">58 - El Meniaa</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="city"><strong>Ville</strong></label>
                    <input type="text" id="city" name="city" placeholder="Bab Ezzouar" required>
                </div>

                <div class="form-group">
                    <label for="quantity"><strong>Quantity</strong></label>
                    <input type="number" id="quantity" name="quantity" min="1" value="1" onchange="calculateTotal()">
                </div>

                <div class="form-group" style="display: flex; gap: 10px;">
                    <div style="flex: 1;">
                        <label for="price"><strong>Prix (DA)</strong></label>
                        <input type="number" id="price" name="price" readonly required>
                    </div>
                    <div style="flex: 1;">
                         <label for="delivery_cost"><strong>Livraison (DA)</strong></label>
                         <input type="number" id="delivery_cost" name="delivery_cost" readonly>
                    </div>
                </div>

                <div class="form-group">
                    <label for="total"><strong>Total (DA)</strong></label>
                    <input type="number" id="total" name="total" readonly style="font-weight: bold; color: var(--primary-color); font-size: 1.2rem;">
                </div>

                <button type="submit" class="btn"
                    style="width: 100%; background-color: var(--primary-color); color: white;">Confirm Order</button>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <p>&copy; 2026 KLLOVR WEAR</p>
    </footer>

    <!-- Order Confirmation Modal -->
    <div id="confirmationModal" class="modal">
        <div class="modal-content">
            <i class="fa-solid fa-check-circle"></i>
            <h3>Order Received!</h3>
            <p id="modalMessage">Thank you for your order. We will contact you shortly to confirm shipping details.</p>
            <button class="close-btn" onclick="closeModal()">Close</button>
        </div>
    </div>

    <script>
        // Smooth scrolling for navigation
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                document.querySelector(this.getAttribute('href')).scrollIntoView({
                    behavior: 'smooth'
                });
            });
        });

        // Product selection logic
        function selectProduct(productName, price) {
            const productInput = document.getElementById('product');
            const priceInput = document.getElementById('price');
            
            productInput.value = productName;
            priceInput.value = price;
            
            calculateTotal();
            
            // Scroll to order form
            document.getElementById('order').scrollIntoView({ behavior: 'smooth' });
        }

        // Shipping Rates Database (Wilaya: {domicile: price, bureau: price})
        const shippingRates = {
            "Adrar": { home: 1100, desk: 600 },
            "Chlef": { home: 700, desk: 400 },
            "Laghouat": { home: 900, desk: 500 },
            "Oum El Bouaghi": { home: 800, desk: 400 },
            "Batna": { home: 800, desk: 400 },
            "Béjaïa": { home: 700, desk: 400 },
            "Biskra": { home: 900, desk: 500 },
            "Béchar": { home: 1100, desk: 600 },
            "Blida": { home: 500, desk: 250 },
            "Bouira": { home: 650, desk: 400 },
            "Tamanrasset": { home: 1300, desk: 800 },
            "Tébessa": { home: 800, desk: 500 },
            "Tlemcen": { home: 800, desk: 400 },
            "Tiaret": { home: 800, desk: 400 },
            "Tizi Ouzou": { home: 650, desk: 400 },
            "Alger": { home: 400, desk: 200 },
            "Djelfa": { home: 900, desk: 500 },
            "Jijel": { home: 700, desk: 400 },
            "Sétif": { home: 700, desk: 400 },
            "Saïda": { home: 800, desk: 400 },
            "Skikda": { home: 700, desk: 400 },
            "Sidi Bel Abbès": { home: 700, desk: 400 },
            "Annaba": { home: 700, desk: 400 },
            "Guelma": { home: 800, desk: 400 },
            "Constantine": { home: 700, desk: 400 },
            "Médéa": { home: 600, desk: 400 },
            "Mostaganem": { home: 700, desk: 400 },
            "M'Sila": { home: 800, desk: 500 },
            "Mascara": { home: 700, desk: 400 },
            "Ouargla": { home: 1000, desk: 500 },
            "Oran": { home: 700, desk: 400 },
            "El Bayadh": { home: 1000, desk: 500 },
            "Illizi": { home: 1300, desk: 600 },
            "Bordj Bou Arréridj": { home: 700, desk: 400 },
            "Boumerdès": { home: 600, desk: 350 },
            "El Tarf": { home: 800, desk: 400 },
            "Tindouf": { home: 1300, desk: 600 },
            "Tissemsilt": { home: 800, desk: 400 },
            "El Oued": { home: 900, desk: 500 },
            "Khenchela": { home: 800, desk: 500 },
            "Souk Ahras": { home: 800, desk: 500 },
            "Tipaza": { home: 600, desk: 350 },
            "Mila": { home: 700, desk: 400 },
            "Aïn Defla": { home: 600, desk: 400 },
            "Naâma": { home: 1000, desk: 500 },
            "Aïn Témouchent": { home: 700, desk: 400 },
            "Ghardaïa": { home: 1000, desk: 500 },
            "Relizane": { home: 700, desk: 400 },
            "Timimoun": { home: 1300, desk: 600 },
            "Bordj Badji Mokhtar": { home: 900, desk: 0 },
            "Ouled Djellal": { home: 900, desk: 0 },
            "Béni Abbès": { home: 1300, desk: 0 },
            "In Salah": { home: 1300, desk: 600 },
            "In Guezzam": { home: 900, desk: 0 },
            "Touggourt": { home: 900, desk: 0 },
            "Djanet": { home: 900, desk: 0 },
            "El M'Ghair": { home: 1000, desk: 500 },
            "El Meniaa": { home: 1000, desk: 500 }
        };

        function calculateTotal() {
            const price = parseFloat(document.getElementById('price').value) || 0;
            const quantity = parseInt(document.getElementById('quantity').value) || 1;
            const wilaya = document.getElementById('wilaya').value;
            const type = document.getElementById('delivery_type').value;
            
            let deliveryCost = 0;
            
            if (wilaya && shippingRates[wilaya]) {
                if (type === 'Bureau') {
                    deliveryCost = shippingRates[wilaya].desk;
                } else {
                    deliveryCost = shippingRates[wilaya].home;
                }
            }
            
            const total = (price * quantity) + deliveryCost;
            
            document.getElementById('delivery_cost').value = deliveryCost;
            
            // Update Total Field
            const totalField = document.getElementById('total');
            if(totalField) totalField.value = total;
            
            const btn = document.querySelector('.btn[type="submit"]');
            btn.innerHTML = `Confirm Order`;
        }

        // Form handling
        async function handleOrder(e) {
            e.preventDefault();
            
            const scriptURL = 'https://script.google.com/macros/s/AKfycbyNdjnU6rjust0ws38j9TmqiSbVazJN1gRZtH2I7qeMc5sdsIEO03AKOijKDL2ltFHN3g/exec';
            const form = document.getElementById('orderForm');
            const submitBtn = form.querySelector('button[type="submit"]');
            
            // Set date
            document.getElementById('date').value = new Date().toLocaleString();

            // Disable button and show loading state
            submitBtn.disabled = true;
            submitBtn.innerHTML = '<i class="fa-solid fa-spinner fa-spin"></i> Processing...';

            try {
                // Convert FormData to URLSearchParams for better compatibility with Google Apps Script
                const formData = new FormData(form);
                const params = new URLSearchParams();
                for (const [key, value] of formData.entries()) {
                    params.append(key, value);
                }

                // Use fetch with a fallback for CORS redirect issues common with Google Apps Script
                await fetch(scriptURL, { 
                    method: 'POST', 
                    body: params,
                    mode: 'no-cors' // This avoids CORS errors when GAS redirects
                });

                // Since we use 'no-cors', we can't read the response, but if fetch didn't throw,
                // the data was likely sent to the script successfully.
                const modal = document.getElementById('confirmationModal');
                const productName = document.getElementById('product').value;
                const message = document.getElementById('modalMessage');
                message.textContent = `Thank you for ordering ${productName}. We will contact you shortly to confirm shipping details.`;
                modal.style.display = 'flex';
                form.reset();

            } catch (error) {
                console.error('Submission Error:', error);
                alert('Connection error. Please check your internet and try again.');
            } finally {
                submitBtn.disabled = false;
                submitBtn.innerHTML = 'Confirm Order';
            }
            
            console.log("Order submission sequence finished");
        }

        function closeModal() {
            document.getElementById('confirmationModal').style.display = 'none';
            document.getElementById('orderForm').reset();
        }

        // Close modal if clicked outside
        window.onclick = function (event) {
            const modal = document.getElementById('confirmationModal');
            if (event.target == modal) {
                modal.style.display = 'none';
            }
        }

        // Carousel Logic
        function scrollToSlide(carouselId, index) {
            const container = document.querySelector(`#${carouselId} .carousel-slides`);
            const slideWidth = container.clientWidth;
            container.scrollTo({
                left: slideWidth * index,
                behavior: 'smooth'
            });
            // UI update happens via onscroll event
        }

        function updateDots(carouselId) {
            const container = document.querySelector(`#${carouselId} .carousel-slides`);
            const slideWidth = container.clientWidth;
            // Calculate current index
            const index = Math.round(container.scrollLeft / slideWidth);
            
            const dots = document.querySelectorAll(`#${carouselId} .dot`);
            dots.forEach((dot, i) => {
                if (i === index) dot.classList.add('active');
                else dot.classList.remove('active');
            });
        }

        function changeSlide(carouselId, direction) {
            const container = document.querySelector(`#${carouselId} .carousel-slides`);
            const slideWidth = container.clientWidth;
            const currentScroll = container.scrollLeft;
            const newScroll = currentScroll + (direction * slideWidth);
            
            container.scrollTo({
                left: newScroll,
                behavior: 'smooth'
            });
        }
    </script>
</body>

</html>